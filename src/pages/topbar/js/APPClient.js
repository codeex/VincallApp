!function(){var t={301:function(t,n,e){t.exports=e(702).Promise},702:function(t,n,e){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
t.exports=function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,o=void 0,s=void 0,a=function(t,n){w[i]=t,w[i+1]=n,2===(i+=2)&&(s?s(b):A())};function u(t){s=t}function c(t){a=t}var f="undefined"!=typeof window?window:void 0,l=f||{},h=l.MutationObserver||l.WebKitMutationObserver,p="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),v="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){return function(){return process.nextTick(b)}}function y(){return function(){o(b)}}function g(){var t=0,n=new h(b),e=document.createTextNode("");return n.observe(e,{characterData:!0}),function(){e.data=t=++t%2}}function m(){var t=new MessageChannel;return t.port1.onmessage=b,function(){return t.port2.postMessage(0)}}function _(){var t=setTimeout;return function(){return t(b,1)}}var w=new Array(1e3);function b(){for(var t=0;t<i;t+=2)(0,w[t])(w[t+1]),w[t]=void 0,w[t+1]=void 0;i=0}function x(){try{var t=e(327);return o=t.runOnLoop||t.runOnContext,y()}catch(t){return _()}}var A=void 0;function C(t,n){var e=arguments,r=this,i=new this.constructor(M);void 0===i[P]&&Z(i);var o,s=r._state;return s?(o=e[s-1],a((function(){return Q(s,i,o,r._result)}))):K(r,i,t,n),i}function j(t){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var e=new n(M);return q(e,t),e}A=p?d():h?g():v?m():void 0===f?x():_();var P=Math.random().toString(36).substring(16);function M(){}var O=void 0,T=1,E=2,S=new z;function k(){return new TypeError("You cannot resolve a promise with itself")}function D(){return new TypeError("A promises callback cannot return that same promise.")}function F(t){try{return t.then}catch(t){return S.error=t,S}}function W(t,n,e,r){try{t.call(n,e,r)}catch(t){return t}}function L(t,n,e){a((function(t){var r=!1,i=W(e,n,(function(e){r||(r=!0,n!==e?q(t,e):J(t,e))}),(function(n){r||(r=!0,B(t,n))}),"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,B(t,i))}),t)}function N(t,n){n._state===T?J(t,n._result):n._state===E?B(t,n._result):K(n,void 0,(function(n){return q(t,n)}),(function(n){return B(t,n)}))}function Y(t,e,r){e.constructor===t.constructor&&r===C&&e.constructor.resolve===j?N(t,e):r===S?B(t,S.error):void 0===r?J(t,e):n(r)?L(t,e,r):J(t,e)}function q(n,e){n===e?B(n,k()):t(e)?Y(n,e,F(e)):J(n,e)}function I(t){t._onerror&&t._onerror(t._result),U(t)}function J(t,n){t._state===O&&(t._result=n,t._state=T,0!==t._subscribers.length&&a(U,t))}function B(t,n){t._state===O&&(t._state=E,t._result=n,a(I,t))}function K(t,n,e,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=n,i[o+T]=e,i[o+E]=r,0===o&&t._state&&a(U,t)}function U(t){var n=t._subscribers,e=t._state;if(0!==n.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<n.length;s+=3)r=n[s],i=n[s+e],r?Q(e,r,i,o):i(o);t._subscribers.length=0}}function z(){this.error=null}var G=new z;function H(t,n){try{return t(n)}catch(t){return G.error=t,G}}function Q(t,e,r,i){var o=n(r),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if((s=H(r,i))===G?(c=!0,a=s.error,s=null):u=!0,e===s)return void B(e,D())}else s=i,u=!0;e._state!==O||(o&&u?q(e,s):c?B(e,a):t===T?J(e,s):t===E&&B(e,s))}function R(t,n){try{n((function(n){q(t,n)}),(function(n){B(t,n)}))}catch(n){B(t,n)}}var V=0;function X(){return V++}function Z(t){t[P]=V++,t._state=void 0,t._result=void 0,t._subscribers=[]}function $(t,n){this._instanceConstructor=t,this.promise=new t(M),this.promise[P]||Z(this.promise),r(n)?(this._input=n,this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?J(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&J(this.promise,this._result))):B(this.promise,tt())}function tt(){return new Error("Array Methods must be provided an Array")}function nt(t){return new $(this,t).promise}function et(t){var n=this;return r(t)?new n((function(e,r){for(var i=t.length,o=0;o<i;o++)n.resolve(t[o]).then(e,r)})):new n((function(t,n){return n(new TypeError("You must pass an array to race."))}))}function rt(t){var n=new this(M);return B(n,t),n}function it(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ot(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function st(t){this[P]=X(),this._result=this._state=void 0,this._subscribers=[],M!==t&&("function"!=typeof t&&it(),this instanceof st?R(this,t):ot())}function at(){var t=void 0;if(void 0!==e.g)t=e.g;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===r&&!n.cast)return}t.Promise=st}return $.prototype._enumerate=function(){for(var t=this.length,n=this._input,e=0;this._state===O&&e<t;e++)this._eachEntry(n[e],e)},$.prototype._eachEntry=function(t,n){var e=this._instanceConstructor,r=e.resolve;if(r===j){var i=F(t);if(i===C&&t._state!==O)this._settledAt(t._state,n,t._result);else if("function"!=typeof i)this._remaining--,this._result[n]=t;else if(e===st){var o=new e(M);Y(o,t,i),this._willSettleAt(o,n)}else this._willSettleAt(new e((function(n){return n(t)})),n)}else this._willSettleAt(r(t),n)},$.prototype._settledAt=function(t,n,e){var r=this.promise;r._state===O&&(this._remaining--,t===E?B(r,e):this._result[n]=e),0===this._remaining&&J(r,this._result)},$.prototype._willSettleAt=function(t,n){var e=this;K(t,void 0,(function(t){return e._settledAt(T,n,t)}),(function(t){return e._settledAt(E,n,t)}))},st.all=nt,st.race=et,st.resolve=j,st.reject=rt,st._setScheduler=u,st._setAsap=c,st._asap=a,st.prototype={constructor:st,then:C,catch:function(t){return this.then(null,t)}},at(),st.polyfill=at,st.Promise=st,st}()},327:function(){}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r].call(o.exports,o,o.exports,e),o.exports}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){"use strict";var t,n,r,i=function(){return i=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},i.apply(this,arguments)},o=e(301),s=function(){function t(t){this.notifyManager=t}return t.prototype.get=function(t){var n=this;return new o((function(e){var r={action:"get",api:t,timestamp:Date.now()};n.notifyManager.call(r,(function(t){e(t)}))}))},t.prototype.set=function(t,n){var e=this,r={action:"set",api:t,params:{value:n},timestamp:Date.now()};return new o((function(t){e.notifyManager.call(r,(function(n){t(n)}))}))},t.prototype.on=function(t,n){var e={action:"on",api:t,alive:!0,timestamp:Date.now()};this.notifyManager.call(e,n)},t.prototype.off=function(t,n){this.notifyManager.removeEventListener(t,n)},t.prototype.do=function(t,n){var e=this,r={action:"do",api:t,params:{value:n},timestamp:Date.now()};return new o((function(t){e.notifyManager.call(r,(function(n){t(n)}))}))},t}(),a=function(){function t(t){this.contentWindow=t}return t.prototype.postMessage=function(t){this.contentWindow&&this.contentWindow.postMessage&&this.contentWindow.postMessage(JSON.stringify(t),"*")},t}(),u=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0;return("x"==t?n:3&n|8).toString(16)}))},c=function(){return c=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},c.apply(this,arguments)},f=function(){function t(n){this.events={},this.uuid=u(),this.timeout=5e3,this.pendingCalls={},t.instance&&t.instance.release(),t.instance=this,this.messageAPI=n}return t.prototype.release=function(){this.events={},Object.entries(this.pendingCalls).forEach((function(t){var n=t[1];n&&clearTimeout(n)})),this.pendingCalls={}},t.prototype.deleteFromPendingCalls=function(t){var n=this.pendingCalls[t];n&&(delete this.pendingCalls[t],clearTimeout(n))},t.prototype.addToPendingCalls=function(t,n){var e=this;this.deleteFromPendingCalls(t),this.pendingCalls[t]=setTimeout((function(){n({errorCode:1,message:"timeout."}),delete e.pendingCalls[t]}),this.timeout)},t.prototype.subscribe=function(t,n,e){(this.events[t]?this.events[t]:this.events[t]=[]).push({callback:e,data:n})},t.prototype.removeEventListener=function(t,n){var e=this.events[t];e&&(this.events[t]=e.filter((function(t){return t.callback!==n})))},t.prototype.notify=function(t){var n=this,e=t.eventTrace||t.api;if(e){this.deleteFromPendingCalls(e);var r=this.events[e];r&&(r.forEach((function(e){e.callback.apply(n,[{data:t.data,errorCode:t.errorCode||0,message:t.message||"success"}])})),t.alive||t.isBroadcast||delete this.events[e])}},t.prototype.call=function(t,n){var e="on"===t.action,r=e?t.api:"".concat(t.api,"_").concat(u());n&&(this.subscribe(r,t,n),e||this.addToPendingCalls(r,n)),this.messageAPI.postMessage(c(c({},t),{eventTrace:r,uuid:this.uuid}))},t}(),l=function(){return l=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},l.apply(this,arguments)},h=(n=[],r=function(t){var e=function(t){try{if(!t.data)return;var n=JSON.parse(t.data);if(!n.api||!n.action)return;return n.timestamp||(n=i(i({},n),{timestamp:Date.now()})),i(i({},t),{source:t.source,origin:t.origin,data:n})}catch(t){return}}(t);e&&(n.length>0&&!n.some((function(t){return e.origin===t}))||f.instance.notify(e.data))},{init:function(e){return function(){if(!f.instance){var n=new f(new a(window.parent));t=new s(n),window.addEventListener("message",r,!1)}}(),n=e||[],function(t){return{get:function(n){return t.get(n)},set:function(n,e){return t.set(n,e)},on:function(n,e){t.on(n,e)},off:function(n,e){t.off(n,e)},do:function(n,e){return t.do(n,e)},request:function(n,e){return t.do("client.web.request",l({url:n},e))}}}(t)}});window.APPClient=h}()}();